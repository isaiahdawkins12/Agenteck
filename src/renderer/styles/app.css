.app {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  background-color: var(--color-background);
}

.app-content {
  display: flex;
  flex: 1;
  overflow: hidden;
}

.main-area {
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow: hidden;
}

/* react-mosaic-component overrides */
.mosaic {
  background: var(--color-background) !important;
  height: 100% !important;
  width: 100% !important;
}

.mosaic-root {
  margin: 0 !important;
  /* Keep library's absolute positioning */
}

.mosaic-tile {
  margin: 2px !important;
}

.mosaic-window {
  border-radius: var(--radius-md) !important;
  overflow: hidden !important;
  position: relative !important;
}

.mosaic-window,
.mosaic-preview {
  box-shadow: none !important;
}

.mosaic-window-toolbar {
  height: 32px !important;
  background: var(--color-surface) !important;
  border-bottom: 1px solid var(--color-border) !important;
  padding: 0 var(--spacing-xs) !important;
  display: flex !important;
  align-items: center !important;
  cursor: grab !important;
}

.mosaic-window-toolbar:active {
  cursor: grabbing !important;
}

.mosaic-window-title {
  flex: 1 !important;
  font-size: var(--font-size-sm) !important;
  font-weight: 500 !important;
  color: var(--color-text) !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  display: flex !important;
  align-items: center !important;
  gap: var(--spacing-xs) !important;
}

.mosaic-window-controls {
  display: flex !important;
  align-items: center !important;
  gap: var(--spacing-xs) !important;
}

.mosaic-window-body {
  background: var(--color-surface) !important;
  /* Override library's flex layout with absolute positioning.
     The library uses flex: 1 + height: 0, but this doesn't compute correctly
     reliably. Absolute positioning fills the parent. */
  position: absolute !important;
  top: 32px !important;  /* Below the toolbar */
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  height: auto !important;
}

.mosaic-split {
  background: transparent !important;
}

.mosaic-split:hover {
  background: var(--color-primary) !important;
}

.mosaic-split.-row {
  margin: 0 -2px !important;
  width: 4px !important;
}

.mosaic-split.-column {
  margin: -2px 0 !important;
  height: 4px !important;
}

/* Drop target styling */
.mosaic-drop-target {
  background: transparent !important;
}

.drop-target-container .drop-target {
  background: var(--color-primary) !important;
  opacity: 0.3 !important;
  border: 2px dashed var(--color-primary) !important;
  border-radius: var(--radius-md) !important;
}

.drop-target-container .drop-target-hover {
  opacity: 0.5 !important;
}
